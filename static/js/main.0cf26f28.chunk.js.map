{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGalery.module.css","Components/Loader/Loader.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Button/Button.js","Components/Modal/Modal.js","servises/useFetch.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","SearchForm","e","preventDefault","type","SearchForm_button","SearchForm_button_label","SearchForm_input","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","tags","onModal","largeImageURL","ImageGalleryItem_image","src","alt","onClick","defaultProps","images","ImageGallery","onImgClick","map","id","webformatURL","CustomLoader","Loader","color","height","width","timeout","Button","text","onLoadClick","modalRoot","document","querySelector","Modal","closeModal","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","event","code","createPortal","Overlay","target","axios","defaults","baseURL","fetchImgAPI","searchQuery","currentPage","get","then","res","data","hits","App","setImages","setCurrentPage","setSearchQuery","showModal","setShowModal","loading","setLoading","error","setError","modalImage","setModalImage","imgSet","setImgSet","fetching","a","imgsResponse","console","log","prevState","scrollTo","top","documentElement","scrollHeight","behavior","response","trim","toast","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0cf26f28.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2IfEd\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1B6tK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3mm2g\",\"Modal\":\"Modal_Modal__1QGg0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalery_ImageGallery__K0Xqx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3MNsh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3EAvi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ZFt-X\",\"SearchForm\":\"Searchbar_SearchForm__16Edu\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2V8mL\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1-t5P\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2uE8y\"};","import React, { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport function Searchbar({ onSubmit }) {\n    const [query, setQuery] = useState('');\n\n    const handleChange = e => {\n        setQuery(e.currentTarget.value);\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        onSubmit(query);\n        setQuery('');\n    };\n\n    return (\n        <header className={s.Searchbar}>\n            <form className={s.SearchForm} onSubmit={handleSubmit}>\n                <button type=\"submit\" className={s.SearchForm_button}>\n                    <span className={s.SearchForm_button_label}>Search</span>\n                </button>\n\n                <input\n                    className={s.SearchForm_input}\n                    value={query}\n                    onChange={handleChange}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                />\n            </form>\n        </header>\n    );\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, tags, onModal, largeImageURL }) => {\n    return (\n        <li className={s.ImageGalleryItem}>\n            <img\n                className={s.ImageGalleryItem_image}\n                src={image}\n                alt={tags}\n                onClick={() => onModal(largeImageURL)}\n            />\n        </li>\n    );\n};\n\nImageGalleryItem.defaultProps = {\n    images: 'https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png',\n    tags: '',\n};\n\nImageGalleryItem.propTypes = {\n    image: PropTypes.string,\n    tags: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, onImgClick }) => {\n    return (\n        <ul className={s.ImageGallery}>\n            {images.map(({ id, largeImageURL, webformatURL, tags }) => (\n                <ImageGalleryItem\n                    key={id}\n                    image={webformatURL}\n                    tags={tags}\n                    largeImageURL={largeImageURL}\n                    onModal={onImgClick}\n                />\n            ))}\n        </ul>\n    );\n};\n\nImageGallery.propTypes = {\n    images: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default ImageGallery;\n","import Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst CustomLoader = () => (\n    <div className={s.Loader}>\n        <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={3000}\n        />\n    </div>\n);\n\nexport default CustomLoader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ text, onLoadClick }) => {\n    return (\n        <button className={s.Button} type=\"button\" onClick={onLoadClick}>\n            {text}\n        </button>\n    );\n};\n\nButton.propTypes = {\n    text: PropTypes.string.isRequired,\n    onLoadClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport function Modal({ closeModal, children }) {\n    useEffect(() => {\n        window.addEventListener('keydown', handleKeyDown);\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n        };\n    });\n\n    const handleKeyDown = event => event.code === 'Escape' && closeModal();\n\n    const handleCloseModal = e => {\n        if (e.currentTarget === e.target) {\n            closeModal();\n        }\n    };\n\n    return createPortal(\n        <div className={s.Overlay} onClick={handleCloseModal}>\n            <div className={s.Modal}>{children}</div>\n        </div>,\n        modalRoot,\n    );\n}\n\nModal.propTypes = {\n    closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import axios from 'axios';\n// import { useState, useEffect } from 'react';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst apiKey = '21973303-2099b25a108053c1f3c237a34';\nconst perPage = 12;\n\nexport const fetchImgAPI = (searchQuery, currentPage) => {\n    return axios\n        .get(\n            `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\n        )\n        .then(res => res.data.hits);\n};\n","import React, { useState, useEffect } from 'react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './App.css';\r\nimport Searchbar from './Components/Searchbar/Searchbar';\r\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\r\nimport CustomLoader from './Components/Loader/Loader';\r\nimport Button from './Components/Button/Button';\r\nimport Modal from './Components/Modal/Modal';\r\nimport { fetchImgAPI } from './servises/useFetch';\r\n\r\nexport function App() {\r\n    const [images, setImages] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [modalImage, setModalImage] = useState(1);\r\n    const [imgSet, setImgSet] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!searchQuery) {\r\n            return;\r\n        }\r\n        fetching();\r\n    }, [searchQuery]);\r\n\r\n    const fetching = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const imgsResponse = await fetchImgAPI(searchQuery, currentPage);\r\n            console.log(imgsResponse);\r\n            setImages(prevState => [...prevState, ...imgsResponse]);\r\n            setImgSet(imgsResponse);\r\n            setCurrentPage(currentPage + 1);\r\n            setLoading(false);\r\n            setError(null);\r\n\r\n            window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n            });\r\n        } catch (error) {\r\n            setError(error.response);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const onChangeQuery = query => {\r\n        setSearchQuery(query.trim());\r\n        setCurrentPage(1);\r\n        setImages([]);\r\n        setError(null);\r\n    };\r\n\r\n    const openModal = largeImageURL => {\r\n        setShowModal(true);\r\n        setModalImage(largeImageURL);\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setShowModal(false);\r\n        setModalImage('');\r\n    };\r\n\r\n    return (\r\n        <div className={s.App}>\r\n            <ToastContainer />\r\n            <Searchbar onSubmit={onChangeQuery} />\r\n            {error ? (\r\n                toast.error(`Something went wrong error: ${error}`)\r\n            ) : (\r\n                <ImageGallery images={images} onImgClick={openModal} />\r\n            )}\r\n            {loading && <CustomLoader />}\r\n            {imgSet.length >= 12 && (\r\n                <Button text={'Load more...'} onLoadClick={fetching} />\r\n            )}\r\n            {showModal && (\r\n                <Modal closeModal={closeModal}>\r\n                    <img src={modalImage} alt=\"img\" />\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}